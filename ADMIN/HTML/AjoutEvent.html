<!DOCTYPE html>
<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="../CSS/EventAdmin.css"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
        <meta charset="utf-8" />
        <meta name="author" content="Alexandra Sirois, William-Arthur Cinq-Mars, Mathieu Harvey">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
        
<body>
    <div id="MenuBar"></div>
    <div id="Event"  class="container-fluid justify-content-evenly">
        <div id="Gestion_event" class="row row-cols-1 row-cols-md-1 g-1 justify-content-center align-items-center" style="margin-top:0%;margin-bottom:0% ;margin:4% ;padding:4%;"><h2>Ajout d'évènements</h2></div>
        <div class="row"> 
            <form style="padding-left: 30%;">
            <div class='col-md-2' style="display: flex;flex-direction: row;">
            <div style="display:flex;flex-direction: column;">
                <label for="titre" style="margin:7px;">Titre:</label><br>
                <label for="date" style="margin:7px;">Date:</label><br>
                <label for="link" style="margin:7px;">Lien:</label><br>
                <label for="description" style="margin:7px;">Description:</label>
            </div>
            <div style="display:flex;flex-direction: column;width:600px;">
            <input type="text" id="titre" style="margin:5px;"><br>
            <input type="date" id="date" style="margin:5px;"><br>
            <div style="display:flex;flex-direction:row;">
            <input type="text" id="link" style="margin:5px;">
            <div onclick="window.open(document.getElementById('link').value)" style="height:30px;margin:5px;width:50%;border:1px solid black;cursor:pointer;">Tester</div></div><br>
            <input type="textarea" id="description" style="margin:5px;"><br>
            </div>
        </div>
        </form>
        <div class="col-md-4"></div>
        <div class="col-md-2" onclick="AjoutEvent(document.getElementById('titre').value, document.getElementById('date').value, document.getElementById('link').value,document.getElementById('description').value)" style="height:30px;margin:5px;border:1px solid black;cursor:pointer;display:flex;flex-direction:column ; align-items: center;">Ajouter</div>
    </div>
    </div>
    </div>
    
    
</body> 


<script src="../JS/ScriptAdmin.js"></script>

<script type="text/javascript">
    function resize() {
        if(screen.width>800){
        jQuery('#MenuBar').load('Menu.html#MenuOrdi'); 
        }
        else{
        jQuery('#MenuBar').load('MenuCell.html#MenuCell'); 
        }
    }
    $(window).on("resize", resize);
    resize(); // call once initially


</script>

<script>
    $(document).ready(function () {
        $.ajax({
            url: "../PHP/CheckConnexion.php",
            type: "POST",
            dataType: "json",
            success: function(result)
            {
                if(result == true)
                {

                }
                else
                {
                    alert("Un erreur est survenu. vous devez vous reconnecter")
                    location.replace("http://localhost/my-app/Conception_web/HTML/Connexion.html");
                }
            },
            error: function (message, er) {
                console.log("erreur lors tu test de connexion:" + er);
                alert("Un erreur est survenu. vous devez vous reconnecter")
                location.replace("http://localhost/my-app/Conception_web/HTML/Connexion.html");
            }
        });
    });
    
</script>



</html>
