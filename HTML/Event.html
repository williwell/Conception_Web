<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Évènements</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../CSS/Calendrier.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  </head>

  <body>
    <div id="MenuBar"></div>
    <div id="Banner"> </div>
    <div id='Event' class="row" style="margin-left: 5%; margin-right: 5%; margin-top: 5%;">
      <h2>Les prochains évènements</h2>
    </div>
<div class="row">
<div class="col-md-4"></div>
<div class="col-md-4" id=calendrier style="padding:10px;display:flex;flex-direction: column;justify-content: space-between;">
  <div id=title style="display:flex;flex-direction: row;">
    <div id=mois>
      <select id="select-mois" onchange="change()">
        <option value=0>Janvier</option>
        <option value=1>Février</option>
        <option value=2>Mars</option>
        <option value=3>Avril</option>
        <option value=4>Mai</option>
        <option value=5>Juin</option>
        <option value=6>Juillet</option>
        <option value=7>Août</option>
        <option value=8>Septembre</option>
        <option value=9>Octobre</option>
        <option value=10>Novembre</option>
        <option value=11>Décembre</option>
      </select>
      <select id="select-year" onchange="change()">
        <option value=0>2011</option>
        <option value=1>2012</option>
        <option value=2>2013</option>
        <option value=3>2014</option>
        <option value=4>2015</option>
        <option value=5>2016</option>
        <option value=6>2017</option>
        <option value=7>2018</option>
        <option value=8>2019</option>
        <option value=9>2020</option>
        <option value=10>2021</option>
        <option value=11>2022</option>
        <option value=12>2023</option>
        <option value=13>2024</option>
        <option value=14>2025</option>
        <option value=15>2026</option>
        <option value=16>2027</option>
        <option value=17>2028</option>
        <option value=18>2029</option>
        <option value=19>2030</option>
        <option value=20>2031</option>
      </select>
      </div>
      <div style="width:10%;"></div>
    <div id="gauche" onclick="precedent()" style="cursor: pointer;"><i class="material-icons">chevron_left</i></div>
    <div id="droite" onclick="suivant()" style="cursor: pointer;"><i class="material-icons">chevron_right</i></div>
    </div>
    <br>
    <div id=cal style="display:flex;flex-direction: column;width:100%">
      <div id=top style="display:flex;flex-direction: row;width:100%">
        <div id=dim style="background-color: white;width: 20%;display: flex;flex-direction: row;justify-content: center;align-items: center;"><p>DIM</p></div>
        <div id=lun style="background-color: white;width: 20%;display: flex;flex-direction: row;justify-content: center;align-items: center;"><p>LUN</p></div>
        <div id=mar style="background-color: white;width: 20%;display: flex;flex-direction: row;justify-content: center;align-items: center;"><p>MAR</p></div>
        <div id=mer style="background-color: white;width: 20%;display: flex;flex-direction: row;justify-content: center;align-items: center;"><p>MER</p></div>
        <div id=jeu style="background-color: white;width: 20%;display: flex;flex-direction: row;justify-content: center;align-items: center;"><p>JEU</p></div>
        <div id=ven style="background-color: white;width: 20%;display: flex;flex-direction: row;justify-content: center;align-items: center;"><p>VEN</p></div>
        <div id=sam style="background-color: white;width: 20%;display: flex;flex-direction: row;justify-content: center;align-items: center;"><p>SAM</p></div>
      </div>
      <br>
      <div id=sem1 style="display:flex;flex-direction: row;width:100%">
        <div id=dim1 class="case" ></div>
        <div id=lun1 class="case" ></div>
        <div id=mar1 class="case" ></div>
        <div id=mer1 class="case" ></div>
        <div id=jeu1 class="case" ></div>
        <div id=ven1 class="case" ></div>
        <div id=sam1 class="case" ></div>
      </div>
      <div id=sem2 style="display:flex;flex-direction: row;width:100%">
        <div id=dim2 class="case" ></div>
        <div id=lun2 class="case" ></div>
        <div id=mar2 class="case" ></div>
        <div id=mer2 class="case" ></div>
        <div id=jeu2 class="case" ></div>
        <div id=ven2 class="case" ></div>
        <div id=sam2 class="case" ></div>
      </div>
      <div id=sem3 style="display:flex;flex-direction: row;width:100%">
        <div id=dim3 class="case" ></div>
        <div id=lun3 class="case" ></div>
        <div id=mar3 class="case" ></div>
        <div id=mer3 class="case" ></div>
        <div id=jeu3 class="case" ></div>
        <div id=ven3 class="case" ></div>
        <div id=sam3 class="case" ></div>
      </div>
      <div id=sem4 style="display:flex;flex-direction: row;width:100%">
        <div id=dim4 class="case" ></div>
        <div id=lun4 class="case" ></div>
        <div id=mar4 class="case" ></div>
        <div id=mer4 class="case" ></div>
        <div id=jeu4 class="case" ></div>
        <div id=ven4 class="case" ></div>
        <div id=sam4 class="case" ></div>
      </div>
      <div id=sem5 style="display:flex;flex-direction: row;width:100%">
        <div id=dim5 class="case" ></div>
        <div id=lun5 class="case" ></div>
        <div id=mar5 class="case" ></div>
        <div id=mer5 class="case" ></div>
        <div id=jeu5 class="case" ></div>
        <div id=ven5 class="case" ></div>
        <div id=sam5 class="case" ></div>
      </div>
      <div id=sem6 style="display:flex;flex-direction: row;width:100%">
        <div id=dim6 class="case" ></div>
        <div id=lun6 class="case" ></div>
        <div id=mar6 class="case" ></div>
        <div id=mer6 class="case" ></div>
        <div id=jeu6 class="case" ></div>
        <div id=ven6 class="case" ></div>
        <div id=sam6 class="case" ></div>
      </div>
    </div>
  </div>

</div>



    <div id="Footer"></div>
  </body>

  <script src="../JS/Script.js"></script>

  <script>
  
    var mois;
    var annee;
    function resize() {
      if(screen.width>800){
        jQuery('#MenuBar').load('Menu.html#MenuOrdi'); 
      }
      else{
        jQuery('#MenuBar').load('MenuCell.html#MenuCell'); 
      }
    }
    $(window).on("resize", resize);
    resize();

    jQuery('#Footer').load('Footer.html#Footer'); 

    $(document).ready(function () {
      $('#Banner').load('Banner.html#Banner',function(){
        $('#PremierMot').text("Département d'informatique"); 
        $('#DeuxiemeMot').text("du Cégep de Trois-Rivières"); 
      });
      
      var d = new Date();
        mois = d.getMonth();
        annee = d.getFullYear();
        $("#select-mois").val(mois);
        $("#select-year").val(annee-2011);
        var x=new Date(+annee+2011, mois, 1)
        var weekday=new Array(7);
        weekday[1] = "Lundi";
        weekday[2] = "Mardi";
        weekday[3] = "Mercredi";
        weekday[4] = "Jeudi";
        weekday[5] = "Vendredi";
        weekday[6] = "Samedi";
        weekday[0] = "Dimanche";
        var y=new Date(+annee+2011, +mois+1, 1);
      affichage();
    });


    function events(){
      evenements.array.forEach(element => {
        
      });
    }

    function suivant(){
      if(mois==11){
        mois=0;
        annee=1+ +annee;
        $("#select-year").val(annee-2011);
      }
      else{
        mois=1+ +mois;}
      $("#select-mois").val(mois);
      affichage();
    }

    function precedent(){
      if(mois==0){
        mois=11;
        annee=annee-1;
        $("#select-year").val(annee-2011);
      }
      else{
        mois=mois-1;}
      $("#select-mois").val(mois);
      affichage();
    }

    function change(){
      mois = $("#select-mois").val();
      annee = 2011 + +$("#select-year").val();
      affichage();
    }

    function affichage(){
      x=new Date(+annee,mois,1);

      clearcal();
      date=x;
          date.setDate(date.getDate()-(x.getDay()));
          $("#dim1").append("<p id='pdim1'>"+date.getDate()+"</p>");
          if(date.getDate()>10){
            document.getElementById("dim1").style.color="#919191";
          }
          else{document.getElementById("dim1").style.color="black";}
          document.getElementById("dim1").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#lun1").append("<p id='plun1'>"+date.getDate()+"</p>");
          if(date.getDate()>10){
            document.getElementById("lun1").style.color="#919191";
          }
          else{document.getElementById("lun1").style.color="black";}
          document.getElementById("lun1").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mar1").append("<p id='pmar1'>"+date.getDate()+"</p>");
          if(date.getDate()>10){
            document.getElementById("mar1").style.color="#919191";
          }
          else{document.getElementById("mar1").style.color="black";}
          document.getElementById("mar1").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mer1").append("<p id='pmer1'>"+date.getDate()+"</p>");
          if(date.getDate()>10){
            document.getElementById("mer1").style.color="#919191";
          }
          else{document.getElementById("mer1").style.color="black";}
          document.getElementById("mer1").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#jeu1").append("<p id='pjeu1'>"+date.getDate()+"</p>");
          if(date.getDate()>10){
            document.getElementById("jeu1").style.color="#919191";
          }
          else{document.getElementById("jeu1").style.color="black";}
          document.getElementById("jeu1").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#ven1").append("<p id='pven1'>"+date.getDate()+"</p>");
          if(date.getDate()>10){
            document.getElementById("ven1").style.color="#919191";
          }
          else{document.getElementById("ven1").style.color="black";}
          document.getElementById("ven1").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#sam1").append("<p id='psam1'>"+date.getDate()+"</p>");
          document.getElementById("sam1").style="border:0px solid white";
          
          date.setDate(date.getDate()+1);
          $("#dim2").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("dim2").style.color="black";
          document.getElementById("dim2").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#lun2").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("lun2").style.color="black";
          document.getElementById("lun2").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mar2").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("mar2").style.color="black";
          document.getElementById("mar2").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mer2").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("mer2").style.color="black";
          document.getElementById("mer2").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#jeu2").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("jeu2").style.color="black";
          document.getElementById("jeu2").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#ven2").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("ven2").style.color="black";
          document.getElementById("ven2").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#sam2").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("sam2").style.color="black";
          document.getElementById("sam2").style="border:0px solid white";

          date.setDate(date.getDate()+1);
          $("#dim3").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("dim3").style.color="black";
          document.getElementById("dim3").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#lun3").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("lun3").style.color="black";
          document.getElementById("lun3").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mar3").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("mar3").style.color="black";
          document.getElementById("mar3").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mer3").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("mer3").style.color="black";
          document.getElementById("mer3").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#jeu3").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("jeu3").style.color="black";
          document.getElementById("jeu3").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#ven3").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("ven3").style.color="black";
          document.getElementById("ven3").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#sam3").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("sam3").style.color="black";
          document.getElementById("sam3").style="border:0px solid white";

          date.setDate(date.getDate()+1);
          $("#dim4").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("dim4").style.color="black";
          document.getElementById("dim4").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#lun4").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("lun4").style.color="black";
          document.getElementById("lun4").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mar4").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("mar4").style.color="black";
          document.getElementById("mar4").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mer4").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("mer4").style.color="black";
          document.getElementById("mer4").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#jeu4").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("jeu4").style.color="black";
          document.getElementById("jeu4").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#ven4").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("ven4").style.color="black";
          document.getElementById("ven4").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#sam4").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("sam4").style.color="black";
          document.getElementById("sam4").style="border:0px solid white";

          date.setDate(date.getDate()+1);
          $("#dim5").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("dim5").style.color="black";
          }else{document.getElementById("dim5").style.color="#919191"}
          document.getElementById("dim5").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#lun5").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("lun5").style.color="black";
          }else{document.getElementById("lun5").style.color="#919191"}
          document.getElementById("lun5").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mar5").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("mar5").style.color="black";
          }else{document.getElementById("mar5").style.color="#919191"}
          document.getElementById("mar5").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mer5").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("mer5").style.color="black";
          }else{document.getElementById("mer5").style.color="#919191"}
          document.getElementById("mer5").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#jeu5").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("jeu5").style.color="black";
          }else{document.getElementById("jeu5").style.color="#919191"}
          document.getElementById("jeu5").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#ven5").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("ven5").style.color="black";
          }else{document.getElementById("ven5").style.color="#919191"}
          document.getElementById("ven5").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#sam5").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("sam5").style.color="black";
          }else{document.getElementById("sam5").style.color="#919191"}
          document.getElementById("sam5").style="border:0px solid white";

          date.setDate(date.getDate()+1);
          $("#dim6").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("dim6").style.color="black";
          }else{document.getElementById("dim6").style.color="#919191"}
          document.getElementById("dim6").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#lun6").append("<p id=''>"+date.getDate()+"</p>");
          if(date.getDate()>17){
            document.getElementById("lun6").style.color="black";
          }else{document.getElementById("lun6").style.color="#919191"}
          document.getElementById("lun6").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mar6").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("mar6").style.color="#919191";
          document.getElementById("mar6").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#mer6").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("mer6").style.color="#919191";
          document.getElementById("mer6").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#jeu6").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("jeu6").style.color="#919191";
          document.getElementById("jeu6").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#ven6").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("ven6").style.color="#919191";
          document.getElementById("ven6").style="border:0px solid white";
          date.setDate(date.getDate()+1);
          $("#sam6").append("<p id=''>"+date.getDate()+"</p>");
          document.getElementById("sam6").style.color="#919191";
          document.getElementById("sam6").style="border:0px solid white";

          $.ajax({
        url:"../PHP/GetEvent.php",
        type: "POST",
        dataType: "Json",
        success:function(result){
          var evenements=new Array;
          putEventCal(result);
          //putEventDetail(result);
          evenements=(result);
        },
        error: function(message, er) {
          console.log("erreur lors du chargement des évènements:" + er);
        }
      });
          
    }

    function clearcal(){

      $("#dim1").empty();
      $("#lun1").empty();
      $("#mar1").empty();
      $("#mer1").empty();
      $("#jeu1").empty();
      $("#ven1").empty();
      $("#sam1").empty();
      
      $("#dim2").empty();
      $("#lun2").empty();
      $("#mar2").empty();
      $("#mer2").empty();
      $("#jeu2").empty();
      $("#ven2").empty();
      $("#sam2").empty();
      
      $("#dim3").empty();
      $("#lun3").empty();
      $("#mar3").empty();
      $("#mer3").empty();
      $("#jeu3").empty();
      $("#ven3").empty();
      $("#sam3").empty();

      $("#dim4").empty();
      $("#lun4").empty();
      $("#mar4").empty();
      $("#mer4").empty();
      $("#jeu4").empty();
      $("#ven4").empty();
      $("#sam4").empty();

      $("#dim5").empty();
      $("#lun5").empty();
      $("#mar5").empty();
      $("#mer5").empty();
      $("#jeu5").empty();
      $("#ven5").empty();
      $("#sam5").empty();

      $("#dim6").empty();
      $("#lun6").empty();
      $("#mar6").empty();
      $("#mer6").empty();
      $("#jeu6").empty();
      $("#ven6").empty();
      $("#sam6").empty();
    }

    
  </script>
    
</html>