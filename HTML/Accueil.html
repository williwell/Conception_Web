<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Accueil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../CSS/SlideShow.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>     
  </head>


  <body>
        
    <div id="MenuBar"></div>
    <div id="Banner"> </div>
    <div class="container" style="width: 100%;">
      <!-- Full-width images with number text -->
      <div class="mySlides">
        <div class="numbertext">1 / 3</div>
        <img src="../RESSOURCES/SlideShow/photo_voler1.jpg" style="width:100%; height:500px;">
      </div>
      
      <div class="mySlides">
        <div class="numbertext">2 / 3</div>
        <img src="../RESSOURCES/SlideShow/photo_voler2.jpg" style="width:100%; height:500px;">
      </div>
      
      <div class="mySlides">
        <div class="numbertext">3 / 3</div>
        <img src="../RESSOURCES/SlideShow/photo_voler3.jpg" style="width:100%; height:500px;">
      </div>
      
      <!-- Next and previous buttons -->
      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>

    <div class="row" style="margin-left: 5%; margin-top: 5%;">
      <h3>Actualité</h3>
    </div>

    <div id="Actu" class="row" style="margin-left: 5%; margin-right: 5%;"></div>

    <div class="row" style="margin-left: 5%; margin-top: 5%;">
      <h3>Événements</h3>
    </div>

    <div id="Event" class="row" style="margin-left: 5%; margin-right: 5%;"></div>

    <div id="Footer"></div>
  </body>

  <script src="../JS/Script.js"></script>

  <script type="text/javascript">
    function resize() {
      if(screen.width>800){
        jQuery('#MenuBar').load('Menu.html#MenuOrdi'); 
      }
      else{
        jQuery('#MenuBar').load('MenuCell.html#MenuCell'); 
      }
    }
    $(window).on("resize", resize);
    resize();

    jQuery('#Footer').load('Footer.html#Footer'); 

    var slideIndex = 1;
    showSlides(slideIndex);

    // Next/previous controls
    function plusSlides(n) {
      showSlides(slideIndex += n);
    }

    // Thumbnail image controls
    function currentSlide(n) {
      showSlides(slideIndex = n);
    }

    function showSlides(n) {
      var i;
      var slides = document.getElementsByClassName("mySlides");
      var captionText = document.getElementById("caption");
      if (n > slides.length) {slideIndex = 1}
      if (n < 1) {slideIndex = slides.length}
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slides[slideIndex-1].style.display = "block";
    }

    $(document).ready(function () {
      $('#Banner').load('Banner.html#Banner',function(){
                $('#PremierMot').text("Département d'informatique"); 
                $('#DeuxiemeMot').text("du Cégep de Trois-Rivières"); 
            }); 
      $.ajax({
        url:"../PHP/GetActualite.php",
        type: "POST",
        dataType: "Json",
        success:function(result){
          putActualite(result);
          $('#ActuClick').on('click', function() {
            window.location = "Actualite.html";
          });
        },
        error: function(message, er) {
          console.log("erreur lors du chargment des actualités:" + er);
        }
      });
    });

    $(document).ready(function () {
      $.ajax({
        url: "../PHP/GetEvent.php",
        type: "POST",
        dataType: "json",
        success: function(result){
          putEvent(result);
        },
        error: function (message, er) {
          console.log("erreur lors du chargement des événements:" + er);
        }
      });
    });

    function EventClick(clickid) {
      
    }
    
    function clickActu(idActu)
    {
      localStorage.setItem("moveActu","true");
      localStorage.setItem("actu",idActu);
      location.replace("Actualite.html");
    }
  </script>
</html>